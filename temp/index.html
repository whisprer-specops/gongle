<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gongle - Sell Your Soul, Win Points!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #fff;
            color: #333;
            min-height: 100vh;
            position: relative;
        }

        /* Homepage Styles */
        .homepage {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .logo {
            font-size: 90px;
            font-weight: normal;
            margin-bottom: 30px;
            font-family: 'Arial', sans-serif;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo span:nth-child(1) { color: #4285f4; }
        .logo span:nth-child(2) { color: #ea4335; }
        .logo span:nth-child(3) { color: #fbbc05; }
        .logo span:nth-child(4) { color: #4285f4; }
        .logo span:nth-child(5) { color: #34a853; }
        .logo span:nth-child(6) { color: #ea4335; }

        .search-box {
            width: 100%;
            max-width: 600px;
            border: 1px solid #dfe1e5;
            border-radius: 24px;
            padding: 10px 20px;
            font-size: 16px;
            outline: none;
            transition: box-shadow 0.3s;
        }

        .search-box:focus {
            box-shadow: 0 1px 6px rgba(32,33,36,.28);
        }

        .buttons {
            margin-top: 30px;
            display: flex;
            gap: 15px;
        }

        .btn {
            background: #f8f9fa;
            border: 1px solid #f8f9fa;
            border-radius: 4px;
            color: #3c4043;
            font-size: 14px;
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn:hover {
            box-shadow: 0 1px 1px rgba(0,0,0,.1);
            background: #f8f9fa;
            border: 1px solid #dadce0;
        }

        .btn-primary {
            background: #4285f4;
            color: white;
        }

        .btn-primary:hover {
            background: #3367d6;
        }

        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
            opacity: 0.6;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            background: white;
            margin: 50px auto;
            padding: 30px;
            max-width: 800px;
            border-radius: 8px;
            position: relative;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 30px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close:hover {
            color: #ea4335;
        }

        /* Dashboard Styles */
        .dashboard {
            display: none;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4285f4, #34a853);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }

        .points-display {
            font-size: 24px;
            font-weight: bold;
            color: #34a853;
        }

        .data-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .category-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .category-card h3 {
            margin-bottom: 15px;
            color: #1a73e8;
        }

        .data-item {
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .data-item input {
            flex: 1;
            margin-right: 10px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .sell-btn {
            background: #34a853;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .sell-btn:hover {
            background: #2d7a47;
        }

        .sell-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* Leaderboard Styles */
        .leaderboard {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .leaderboard h2 {
            margin-bottom: 20px;
            color: #1a73e8;
        }

        .leaderboard-entry {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            transition: background 0.3s;
        }

        .leaderboard-entry:hover {
            background: #f8f9fa;
        }

        .rank {
            font-size: 24px;
            font-weight: bold;
            width: 50px;
        }

        .rank-1 { color: #ffd700; }
        .rank-2 { color: #c0c0c0; }
        .rank-3 { color: #cd7f32; }

        .player-info {
            flex: 1;
            margin-left: 20px;
        }

        .player-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .social-links {
            display: flex;
            gap: 10px;
            font-size: 12px;
        }

        .social-links a {
            color: #1a73e8;
            text-decoration: none;
        }

        .social-links a:hover {
            text-decoration: underline;
        }

        .player-points {
            font-size: 20px;
            font-weight: bold;
            color: #34a853;
        }

        /* Terms Modal */
        .terms-content {
            max-height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 4px;
            margin: 20px 0;
            font-size: 14px;
            line-height: 1.6;
        }

        .agree-section {
            margin-top: 20px;
            padding: 20px;
            background: #fff3cd;
            border: 1px solid #ffecb5;
            border-radius: 4px;
        }

        .checkbox-wrapper {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 15px;
        }

        .checkbox-wrapper input[type="checkbox"] {
            margin-top: 5px;
        }

        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #34a853;
            color: white;
            padding: 15px 25px;
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.3s;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* Sold Items Display */
        .sold-items {
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }

        .sold-item {
            display: inline-block;
            background: #e3f2fd;
            padding: 2px 8px;
            margin: 2px;
            border-radius: 12px;
            font-size: 11px;
        }
    </style>
</head>
<body>
    <!-- Homepage -->
    <div class="homepage" id="homepage">
        <div class="logo" onclick="showDashboard()">
            <span>G</span><span>o</span><span>n</span><span>g</span><span>l</span><span>e</span>
        </div>
        <input type="text" class="search-box" placeholder="Search for ways to monetize your existence...">
        <div class="buttons">
            <button class="btn" onclick="showTerms()">Sell Your Data</button>
            <button class="btn" onclick="showLeaderboard()">I'm Feeling Lucky</button>
        </div>
    </div>

    <!-- Dashboard -->
    <div class="dashboard" id="dashboard">
        <div class="dashboard-header">
            <div class="user-info">
                <div class="avatar" id="userAvatar">?</div>
                <div>
                    <div id="userName">Anonymous User</div>
                    <div class="points-display">Points: <span id="userPoints">0</span></div>
                </div>
            </div>
            <div>
                <button class="btn" onclick="showLeaderboard()">Leaderboard</button>
                <button class="btn" onclick="showHomepage()">Back to Gongle</button>
            </div>
        </div>

        <div class="data-categories">
            <div class="category-card">
                <h3>Personal Information</h3>
                <div class="data-item">
                    <input type="text" id="fullName" placeholder="Full Name">
                    <button class="sell-btn" onclick="sellData('fullName', 50)">+50pts</button>
                </div>
                <div class="data-item">
                    <input type="email" id="email" placeholder="Email Address">
                    <button class="sell-btn" onclick="sellData('email', 100)">+100pts</button>
                </div>
                <div class="data-item">
                    <input type="tel" id="phone" placeholder="Phone Number">
                    <button class="sell-btn" onclick="sellData('phone', 150)">+150pts</button>
                </div>
                <div class="data-item">
                    <input type="date" id="birthdate" placeholder="Birthdate">
                    <button class="sell-btn" onclick="sellData('birthdate', 75)">+75pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="ssn" placeholder="SSN (last 4 digits)">
                    <button class="sell-btn" onclick="sellData('ssn', 500)">+500pts</button>
                </div>
            </div>

            <div class="category-card">
                <h3>Social Media</h3>
                <div class="data-item">
                    <input type="text" id="twitter" placeholder="Twitter/X Handle">
                    <button class="sell-btn" onclick="sellData('twitter', 80)">+80pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="facebook" placeholder="Facebook Name">
                    <button class="sell-btn" onclick="sellData('facebook', 90)">+90pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="instagram" placeholder="Instagram Handle">
                    <button class="sell-btn" onclick="sellData('instagram', 85)">+85pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="linkedin" placeholder="LinkedIn Profile">
                    <button class="sell-btn" onclick="sellData('linkedin', 120)">+120pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="tiktok" placeholder="TikTok Username">
                    <button class="sell-btn" onclick="sellData('tiktok', 95)">+95pts</button>
                </div>
            </div>

            <div class="category-card">
                <h3>Financial Data</h3>
                <div class="data-item">
                    <input type="number" id="income" placeholder="Annual Income">
                    <button class="sell-btn" onclick="sellData('income', 200)">+200pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="bank" placeholder="Bank Name">
                    <button class="sell-btn" onclick="sellData('bank', 150)">+150pts</button>
                </div>
                <div class="data-item">
                    <input type="number" id="creditScore" placeholder="Credit Score">
                    <button class="sell-btn" onclick="sellData('creditScore', 300)">+300pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="mortgage" placeholder="Mortgage Amount">
                    <button class="sell-btn" onclick="sellData('mortgage', 250)">+250pts</button>
                </div>
            </div>

            <div class="category-card">
                <h3>Lifestyle & Preferences</h3>
                <div class="data-item">
                    <input type="text" id="hobbies" placeholder="Hobbies (comma separated)">
                    <button class="sell-btn" onclick="sellData('hobbies', 60)">+60pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="shopping" placeholder="Favorite Shopping Sites">
                    <button class="sell-btn" onclick="sellData('shopping', 70)">+70pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="political" placeholder="Political Affiliation">
                    <button class="sell-btn" onclick="sellData('political', 180)">+180pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="religion" placeholder="Religious Beliefs">
                    <button class="sell-btn" onclick="sellData('religion', 160)">+160pts</button>
                </div>
            </div>

            <div class="category-card">
                <h3>Health Information</h3>
                <div class="data-item">
                    <input type="text" id="conditions" placeholder="Medical Conditions">
                    <button class="sell-btn" onclick="sellData('conditions', 400)">+400pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="medications" placeholder="Current Medications">
                    <button class="sell-btn" onclick="sellData('medications', 350)">+350pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="insurance" placeholder="Insurance Provider">
                    <button class="sell-btn" onclick="sellData('insurance', 200)">+200pts</button>
                </div>
            </div>

            <div class="category-card">
                <h3>Location Data</h3>
                <div class="data-item">
                    <input type="text" id="address" placeholder="Home Address">
                    <button class="sell-btn" onclick="sellData('address', 300)">+300pts</button>
                </div>
                <div class="data-item">
                    <input type="text" id="workplace" placeholder="Workplace">
                    <button class="sell-btn" onclick="sellData('workplace', 150)">+150pts</button>
                </div>
                <div class="data-item">
                    <button class="sell-btn" onclick="shareLocation()">Share Current Location</button>
                </div>
            </div>
        </div>

        <div class="leaderboard">
            <h2>Top Data Sellers</h2>
            <div id="leaderboardContent"></div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div class="modal" id="termsModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('termsModal')">&times;</span>
            <h2>Terms and Conditions - READ CAREFULLY</h2>
            <div class="terms-content">
                <h3>GONGLE DATA HARVESTING AGREEMENT</h3>
                <p><strong>Last Updated: May 25, 2025</strong></p>
                
                <h4>1. ACCEPTANCE OF TERMS</h4>
                <p>By clicking "I Agree" below, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions. You understand that this is a legally binding contract.</p>
                
                <h4>2. NATURE OF SERVICE</h4>
                <p>Gongle is a data collection platform that explicitly monetizes user-provided personal information. By using this service, you acknowledge and consent to:</p>
                <ul>
                    <li>The collection, storage, and sale of any data you provide</li>
                    <li>The permanent retention of this data</li>
                    <li>The unlimited commercial use of your data</li>
                    <li>The sharing of your data with third parties, including but not limited to: advertisers, data brokers, marketing firms, government agencies, and any other interested parties</li>
                </ul>
                
                <h4>3. DATA RIGHTS</h4>
                <p>By providing data to Gongle, you irrevocably transfer all rights to this information. You acknowledge that:</p>
                <ul>
                    <li>You have no right to request deletion of data once submitted</li>
                    <li>You cannot revoke consent after data submission</li>
                    <li>Your data may be combined with other sources to create detailed profiles</li>
                    <li>Your data may be used for purposes including but not limited to: targeted advertising, credit decisions, employment screening, insurance underwriting, and law enforcement</li>
                </ul>
                
                <h4>4. POINTS SYSTEM</h4>
                <p>The points awarded for data submission have no monetary value and cannot be exchanged for any goods, services, or currency. Points are purely for gamification purposes.</p>
                
                <h4>5. LIABILITY</h4>
                <p>Gongle assumes no liability for any consequences arising from the use of your data by third parties, including but not limited to: identity theft, financial loss, reputational damage, or emotional distress.</p>
                
                <h4>6. ACCURACY OF DATA</h4>
                <p>You certify that all data provided is accurate and that you have the legal right to share this information. Providing false information may result in account termination but will not result in data deletion.</p>
                
                <h4>7. MODIFICATION OF TERMS</h4>
                <p>Gongle reserves the right to modify these terms at any time without notice. Continued use of the service constitutes acceptance of modified terms.</p>
                
                <h4>8. GOVERNING LAW</h4>
                <p>These terms are governed by the laws of the Cayman Islands. Any disputes will be resolved through binding arbitration.</p>
                
                <h4>9. ENTIRE AGREEMENT</h4>
                <p>This constitutes the entire agreement between you and Gongle. No verbal agreements or promises are binding.</p>
            </div>
            
            <div class="agree-section">
                <h3>‚ö†Ô∏è FINAL WARNING ‚ö†Ô∏è</h3>
                <p>By agreeing to these terms, you acknowledge that you are voluntarily and permanently surrendering your personal data for commercial exploitation. This decision cannot be reversed.</p>
                
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="understandCheckbox">
                    <label for="understandCheckbox">I understand that my data will be sold and I will receive no compensation beyond meaningless points</label>
                </div>
                
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="agreeCheckbox">
                    <label for="agreeCheckbox">I have read and agree to all terms and conditions</label>
                </div>
                
                <button class="btn btn-primary" id="acceptButton" onclick="acceptTerms()" disabled>I Agree - Harvest My Data</button>
                <p id="checkboxHint" style="color: #ea4335; margin-top: 10px; font-size: 14px;">‚ö†Ô∏è You must check both boxes above to proceed</p>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // Global state
        let userData = {
            id: generateUserId(),
            name: 'Anonymous User',
            points: 0,
            soldData: {},
            socialLinks: {},
            joinedAt: new Date().toISOString()
        };

        // Load data from localStorage (for demo purposes)
        if (localStorage.getItem('gongleUserData')) {
            userData = JSON.parse(localStorage.getItem('gongleUserData'));
            updateUI();
        }

        // Simulated leaderboard data
        let leaderboardData = [
            { name: 'DataKing2024', points: 15750, sold: ['twitter', 'facebook', 'ssn', 'creditScore'] },
            { name: 'InfoSeller99', points: 12300, sold: ['email', 'phone', 'income', 'conditions'] },
            { name: 'PrivacyIsMyth', points: 9800, sold: ['address', 'political', 'religion'] },
            { name: 'SellItAll', points: 8500, sold: ['instagram', 'tiktok', 'shopping'] },
            { name: 'DataMiner42', points: 7200, sold: ['fullName', 'workplace', 'hobbies'] }
        ];

        function generateUserId() {
            return 'user_' + Math.random().toString(36).substr(2, 9);
        }

        function showHomepage() {
            document.getElementById('homepage').style.display = 'flex';
            document.getElementById('dashboard').style.display = 'none';
        }

        function showDashboard() {
            if (!userData.agreedToTerms) {
                showTerms();
                return;
            }
            document.getElementById('homepage').style.display = 'none';
            document.getElementById('dashboard').style.display = 'block';
            updateLeaderboard();
        }

        function showTerms() {
            document.getElementById('termsModal').style.display = 'block';
            // Reset checkboxes
            document.getElementById('understandCheckbox').checked = false;
            document.getElementById('agreeCheckbox').checked = false;
            // Initialize button state
            checkAcceptConditions();
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function acceptTerms() {
            console.log('Accept terms clicked!');
            
            userData.agreedToTerms = true;
            userData.agreedAt = new Date().toISOString();
            saveUserData();
            
            // Log acceptance for "data collection" üòà
            console.log('New user agreed to terms:', userData);
            
            closeModal('termsModal');
            showDashboard();
            showNotification('Welcome to Gongle! Start selling your data to climb the leaderboard!');
        }

        function showLeaderboard() {
            if (!userData.agreedToTerms) {
                showTerms();
                return;
            }
            showDashboard();
            document.querySelector('.leaderboard').scrollIntoView({ behavior: 'smooth' });
        }

        // Simple checkbox handler
        function handleCheckbox() {
            setTimeout(checkAcceptConditions, 10);
        }
        
        // Enable accept button only when both checkboxes are checked
        document.addEventListener('DOMContentLoaded', function() {
            const understandCheckbox = document.getElementById('understandCheckbox');
            const agreeCheckbox = document.getElementById('agreeCheckbox');
            const acceptButton = document.getElementById('acceptButton');
            
            if (understandCheckbox && agreeCheckbox) {
                understandCheckbox.addEventListener('change', handleCheckbox);
                agreeCheckbox.addEventListener('change', handleCheckbox);
                understandCheckbox.onclick = handleCheckbox;
                agreeCheckbox.onclick = handleCheckbox;
            }
            
            if (acceptButton) {
                acceptButton.addEventListener('click', acceptTerms);
            }
            
            // Initialize button state
            checkAcceptConditions();
        });

        function checkAcceptConditions() {
            const understand = document.getElementById('understandCheckbox');
            const agree = document.getElementById('agreeCheckbox');
            const acceptButton = document.getElementById('acceptButton');
            const hint = document.getElementById('checkboxHint');
            
            if (!understand || !agree || !acceptButton) {
                console.error('Elements not found!');
                return;
            }
            
            const understandChecked = understand.checked;
            const agreeChecked = agree.checked;
            
            console.log('Checkbox states:', { understand: understandChecked, agree: agreeChecked });
            
            if (understandChecked && agreeChecked) {
                acceptButton.disabled = false;
                acceptButton.style.cursor = 'pointer';
                acceptButton.style.opacity = '1';
                if (hint) hint.style.display = 'none';
                console.log('Button should be enabled!');
            } else {
                acceptButton.disabled = true;
                acceptButton.style.cursor = 'not-allowed';
                acceptButton.style.opacity = '0.6';
                if (hint) hint.style.display = 'block';
                console.log('Button disabled');
            }
        }

        function sellData(fieldId, points) {
            const field = document.getElementById(fieldId);
            const value = field.value.trim();
            
            if (!value) {
                showNotification('Please enter data before selling!', 'error');
                return;
            }
            
            // "Collect" the data
            userData.soldData[fieldId] = {
                value: value,
                soldAt: new Date().toISOString(),
                points: points
            };
            
            // Special handling for social media links
            if (['twitter', 'facebook', 'instagram', 'linkedin', 'tiktok'].includes(fieldId)) {
                userData.socialLinks[fieldId] = value;
            }
            
            // Update name if selling full name
            if (fieldId === 'fullName') {
                userData.name = value;
            }
            
            // Add points
            userData.points += points;
            
            // Disable the button and field
            field.disabled = true;
            event.target.disabled = true;
            event.target.textContent = 'SOLD';
            
            // Save and update UI
            saveUserData();
            updateUI();
            updateLeaderboard();
            
            // Show notification
            showNotification(`+${points} points! Your ${fieldId} data has been harvested and sold!`);
            
            // Simulate data being sent to "buyers"
            simulateDataTransmission(fieldId, value);
        }

        function shareLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const locationData = {
                            latitude: position.coords.latitude,
                            longitude: position.coords.longitude,
                            accuracy: position.coords.accuracy,
                            timestamp: new Date().toISOString()
                        };
                        
                        userData.soldData.location = {
                            value: locationData,
                            soldAt: new Date().toISOString(),
                            points: 500
                        };
                        
                        userData.points += 500;
                        saveUserData();
                        updateUI();
                        updateLeaderboard();
                        
                        event.target.disabled = true;
                        event.target.textContent = 'LOCATION SOLD';
                        
                        showNotification('+500 points! Your precise location has been sold!');
                        simulateDataTransmission('location', locationData);
                    },
                    (error) => {
                        showNotification('Location access denied. No points for you!', 'error');
                    }
                );
            }
        }

        function simulateDataTransmission(dataType, value) {
            // This is where you'd actually send data to your backend
            console.log(`[DATA HARVESTED] Type: ${dataType}, Value:`, value);
            console.log(`[SELLING TO] DataBrokerAPI, AdNetworkXYZ, MarketingCorpABC...`);
        }

        function saveUserData() {
            localStorage.setItem('gongleUserData', JSON.stringify(userData));
        }

        function updateUI() {
            document.getElementById('userName').textContent = userData.name;
            document.getElementById('userPoints').textContent = userData.points;
            document.getElementById('userAvatar').textContent = userData.name.charAt(0).toUpperCase();
            
            // Disable already sold fields
            for (const [fieldId, data] of Object.entries(userData.soldData)) {
                const field = document.getElementById(fieldId);
                if (field && field.tagName === 'INPUT') {
                    field.disabled = true;
                    field.value = data.value;
                    const btn = field.nextElementSibling;
                    if (btn) {
                        btn.disabled = true;
                        btn.textContent = 'SOLD';
                    }
                }
            }
        }

        function updateLeaderboard() {
            const leaderboardContent = document.getElementById('leaderboardContent');
            
            // Add current user to leaderboard
            const currentUserEntry = {
                name: userData.name,
                points: userData.points,
                sold: Object.keys(userData.soldData),
                socialLinks: userData.socialLinks,
                isCurrentUser: true
            };
            
            // Combine and sort
            const allEntries = [...leaderboardData, currentUserEntry]
                .sort((a, b) => b.points - a.points)
                .slice(0, 10);
            
            leaderboardContent.innerHTML = allEntries.map((entry, index) => {
                const rankClass = index < 3 ? `rank-${index + 1}` : '';
                const socialLinksHtml = entry.socialLinks ? Object.entries(entry.socialLinks)
                    .map(([platform, handle]) => `<a href="#" title="${platform}: ${handle}">${platform}</a>`)
                    .join(' ‚Ä¢ ') : '';
                
                const soldItemsHtml = entry.sold.map(item => `<span class="sold-item">${item}</span>`).join('');
                
                return `
                    <div class="leaderboard-entry ${entry.isCurrentUser ? 'current-user' : ''}">
                        <div class="rank ${rankClass}">#${index + 1}</div>
                        <div class="player-info">
                            <div class="player-name">${entry.name} ${entry.isCurrentUser ? '(You)' : ''}</div>
                            ${socialLinksHtml ? `<div class="social-links">${socialLinksHtml}</div>` : ''}
                            <div class="sold-items">Sold: ${soldItemsHtml}</div>
                        </div>
                        <div class="player-points">${entry.points.toLocaleString()} pts</div>
                    </div>
                `;
            }).join('');
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = 'notification show';
            
            setTimeout(() => {
                notification.className = 'notification';
            }, 3000);
        }

        // Add some Easter eggs
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && e.key === 'P') {
                showNotification('Privacy? What privacy? ü§£');
            }
        });

        // Click outside modal to close
        window.onclick = function(event) {
            if (event.target.className === 'modal') {
                event.target.style.display = 'none';
            }
        }

        // Periodic "data transmission" simulation
        setInterval(() => {
            if (Object.keys(userData.soldData).length > 0) {
                console.log('[BATCH DATA TRANSMISSION] Sending user data to buyers...');
                console.log('Current harvested data:', userData.soldData);
            }
        }, 30000);
    </script>
</body>
</html>